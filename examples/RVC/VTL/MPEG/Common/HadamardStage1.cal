actor HadamardStage1 () int In0, int In1, int In2, int In3 ==> int Out:

	function abs (int x) --> int:
	if(x>=0) then
		x
	else
		x* -1
	end	
	end

	A: action In0:[in0], In1:[in1], In2:[in2], In3:[in3] ==> Out:[out]
		var int out0, int out1, int out2, int out3, int out
		do 
			out0:=in0+in1+in2+in3;
			out1:=in0+in1-in2-in3;
			out2:=in0-in1-in2+in3;
			out3:=in0-in1+in2-in3;
			
			
			out:= abs(out0) + abs(out1) + abs(out2) + abs(out3);
				
	end 
 
end